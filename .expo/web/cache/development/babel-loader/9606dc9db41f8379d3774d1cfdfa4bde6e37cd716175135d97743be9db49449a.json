{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport { TextInput, Button, HelperText, Title } from 'react-native-paper';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar RegisterScreen = function RegisterScreen(_ref) {\n  var navigation = _ref.navigation;\n  var _useState = useState(''),\n    _useState2 = _slicedToArray(_useState, 2),\n    email = _useState2[0],\n    setEmail = _useState2[1];\n  var _useState3 = useState(''),\n    _useState4 = _slicedToArray(_useState3, 2),\n    password = _useState4[0],\n    setPassword = _useState4[1];\n  var _useState5 = useState(''),\n    _useState6 = _slicedToArray(_useState5, 2),\n    name = _useState6[0],\n    setName = _useState6[1];\n  var _useState7 = useState(''),\n    _useState8 = _slicedToArray(_useState7, 2),\n    lastName = _useState8[0],\n    setLastName = _useState8[1];\n  var handleRegister = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      console.log('Nombre ', name);\n      console.log('Correo electrónico:', email);\n      console.log('Contraseña:', password);\n      yield saveUserDataToMySQL(name, email, lastName, password);\n    });\n    return function handleRegister() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  var isValidEmail = function isValidEmail(email) {\n    var emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n    return emailRegex.test(email);\n  };\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsxs(View, {\n      style: styles.logoContainer,\n      children: [_jsx(Image, {\n        source: require(\"./logo.png\"),\n        style: styles.logo\n      }), _jsx(Title, {\n        style: styles.title,\n        children: \"Timely Talent\"\n      })]\n    }), _jsxs(View, {\n      style: styles.formContainer,\n      children: [_jsx(TextInput, {\n        label: \"Nombre completo\",\n        value: name,\n        onChangeText: setName,\n        style: styles.input,\n        autoCapitalize: \"words\",\n        mode: \"outlined\"\n      }), _jsx(TextInput, {\n        label: \"Apellidos\",\n        value: lastName,\n        onChangeText: setLastName,\n        style: styles.input,\n        autoCapitalize: \"words\",\n        mode: \"outlined\"\n      }), _jsx(TextInput, {\n        label: \"Correo electr\\xF3nico\",\n        value: email,\n        onChangeText: setEmail,\n        style: styles.input,\n        keyboardType: \"email-address\",\n        autoCapitalize: \"none\",\n        mode: \"outlined\"\n      }), _jsx(TextInput, {\n        label: \"Contrase\\xF1a\",\n        value: password,\n        onChangeText: setPassword,\n        style: styles.input,\n        secureTextEntry: true,\n        mode: \"outlined\"\n      }), _jsx(HelperText, {\n        type: \"error\",\n        visible: !isValidEmail(email) && email !== \"\",\n        children: \"Correo no v\\xE1lido\"\n      }), _jsx(HelperText, {\n        type: \"error\",\n        visible: password.length < 8 && password !== \"\",\n        children: \"La contrase\\xF1a debe tener al menos 8 caracteres\"\n      }), _jsx(Button, {\n        mode: \"contained\",\n        onPress: handleRegister,\n        style: styles.button,\n        labelStyle: styles.buttonLabel,\n        disabled: !isValidEmail(email) || password.length < 8,\n        children: \"Registrarse\"\n      }), _jsx(Button, {\n        mode: \"text\",\n        onPress: function onPress() {\n          return navigation.goBack();\n        },\n        style: styles.backButton,\n        labelStyle: styles.backButtonLabel,\n        children: \"Volver al inicio de sesi\\xF3n\"\n      })]\n    })]\n  });\n};\nvar saveUserDataToMySQL = function () {\n  var _ref3 = _asyncToGenerator(function* (id, nombre, apellidos, email, contraseña_hash) {\n    try {\n      var response = yield fetch('https://saveuserdata-2b2k6woktq-nw.a.run.app', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          email: email,\n          nombre: nombre,\n          apellidos: apellidos,\n          contraseña_hash: contraseña_hash\n        })\n      });\n      if (!response.ok) {\n        throw new Error('Failed to save user data to MySQL' + JSON.stringify({\n          email: email,\n          nombre: nombre,\n          apellidos: apellidos,\n          contraseña_hash: contraseña_hash\n        }));\n      }\n      console.log('User data saved to MySQL successfully');\n    } catch (error) {\n      console.error('Error saving user data to MySQL:', error);\n    }\n  });\n  return function saveUserDataToMySQL(_x, _x2, _x3, _x4, _x5) {\n    return _ref3.apply(this, arguments);\n  };\n}();\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#f5f5f5'\n  },\n  logoContainer: {\n    alignItems: 'center',\n    justifyContent: 'center',\n    flexGrow: 1\n  },\n  logo: {\n    width: 150,\n    height: 150\n  },\n  title: {\n    marginTop: 10,\n    fontSize: 24,\n    fontWeight: 'bold',\n    color: '#333'\n  },\n  formContainer: {\n    flexGrow: 2,\n    paddingHorizontal: 30\n  },\n  input: {\n    marginBottom: 15\n  },\n  button: {\n    marginTop: 15,\n    paddingVertical: 10,\n    backgroundColor: '#d5bf19'\n  },\n  buttonLabel: {\n    fontSize: 18\n  },\n  backButton: {\n    marginTop: 10\n  },\n  backButtonLabel: {\n    fontSize: 16,\n    color: '#d5bf19'\n  }\n});\nexport default RegisterScreen;","map":{"version":3,"names":["React","useState","View","StyleSheet","Image","TextInput","Button","HelperText","Title","jsx","_jsx","jsxs","_jsxs","RegisterScreen","_ref","navigation","_useState","_useState2","_slicedToArray","email","setEmail","_useState3","_useState4","password","setPassword","_useState5","_useState6","name","setName","_useState7","_useState8","lastName","setLastName","handleRegister","_ref2","_asyncToGenerator","console","log","saveUserDataToMySQL","apply","arguments","isValidEmail","emailRegex","test","style","styles","container","children","logoContainer","source","require","logo","title","formContainer","label","value","onChangeText","input","autoCapitalize","mode","keyboardType","secureTextEntry","type","visible","length","onPress","button","labelStyle","buttonLabel","disabled","goBack","backButton","backButtonLabel","_ref3","id","nombre","apellidos","contraseña_hash","response","fetch","method","headers","body","JSON","stringify","ok","Error","error","_x","_x2","_x3","_x4","_x5","create","flex","backgroundColor","alignItems","justifyContent","flexGrow","width","height","marginTop","fontSize","fontWeight","color","paddingHorizontal","marginBottom","paddingVertical"],"sources":["D:/Desktop/Tim/mobile-app-for-human-resources/src/RegisterScreen.js"],"sourcesContent":["import React, {useState} from 'react';\r\nimport {View, StyleSheet, Image} from 'react-native';\r\nimport {TextInput, Button, HelperText, Title} from 'react-native-paper';\r\n\r\nconst RegisterScreen = ({navigation}) => {\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [name, setName] = useState('');\r\n  const [lastName, setLastName] = useState('');\r\n\r\n\r\n   const handleRegister = async () => {\r\n    // Aquí puedes implementar la lógica de registro con tu backend\r\n    console.log('Nombre ', name);\r\n\r\n    console.log('Correo electrónico:', email);\r\n    console.log('Contraseña:', password);\r\n    await saveUserDataToMySQL( name, email, lastName, password);\r\n  };\r\n\r\n  const isValidEmail = (email) => {\r\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n    return emailRegex.test(email);\r\n  };\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n      <View style={styles.logoContainer}>\r\n        <Image\r\n          source={require('./logo.png')} // Reemplaza esto con la ruta de tu logo\r\n          style={styles.logo}\r\n        />\r\n        <Title style={styles.title}>Timely Talent</Title>\r\n      </View>\r\n      <View style={styles.formContainer}>\r\n        <TextInput\r\n          label=\"Nombre completo\"\r\n          value={name}\r\n          onChangeText={setName}\r\n          style={styles.input}\r\n          autoCapitalize=\"words\"\r\n          mode=\"outlined\"\r\n        />\r\n        <TextInput\r\n        label=\"Apellidos\"\r\n        value={lastName}\r\n        onChangeText={setLastName}\r\n        style={styles.input}\r\n        autoCapitalize=\"words\"\r\n         mode=\"outlined\"\r\n        />\r\n\r\n        <TextInput\r\n          label=\"Correo electrónico\"\r\n          value={email}\r\n          onChangeText={setEmail}\r\n          style={styles.input}\r\n          keyboardType=\"email-address\"\r\n          autoCapitalize=\"none\"\r\n          mode=\"outlined\"\r\n        />\r\n        <TextInput\r\n          label=\"Contraseña\"\r\n          value={password}\r\n          onChangeText={setPassword}\r\n          style={styles.input}\r\n          secureTextEntry\r\n          mode=\"outlined\"\r\n        />\r\n\r\n        <HelperText type=\"error\" visible={!isValidEmail(email) && email!== \"\"}>\r\n          Correo no válido\r\n        </HelperText>\r\n\r\n        <HelperText type=\"error\" visible={password.length < 8 && password!== \"\"}>\r\n          La contraseña debe tener al menos 8 caracteres\r\n        </HelperText>\r\n        <Button\r\n          mode=\"contained\"\r\n          onPress={handleRegister}\r\n          style={styles.button}\r\n          labelStyle={styles.buttonLabel}\r\n          disabled={!isValidEmail(email) || password.length < 8}\r\n        >\r\n          Registrarse\r\n        </Button>\r\n        <Button\r\n          mode=\"text\"\r\n          onPress={() => navigation.goBack()}\r\n          style={styles.backButton}\r\n          labelStyle={styles.backButtonLabel}\r\n        >\r\n          Volver al inicio de sesión\r\n        </Button>\r\n      </View>\r\n    </View>\r\n  );\r\n};\r\n\r\n//API que guarda usuarios al registrarse en GCP\r\nconst saveUserDataToMySQL = async (id, nombre, apellidos, email, contraseña_hash) => {\r\n  try {\r\n    const response = await fetch('https://saveuserdata-2b2k6woktq-nw.a.run.app', {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n    \r\n    body: JSON.stringify({email, nombre, apellidos, contraseña_hash}),\r\n    });\r\n  \r\n    if (!response.ok) {\r\n    throw new Error('Failed to save user data to MySQL'+JSON.stringify({email, nombre, apellidos, contraseña_hash}));\r\n    }\r\n  \r\n    console.log('User data saved to MySQL successfully');\r\n  } catch (error) {\r\n    console.error('Error saving user data to MySQL:', error);\r\n  }\r\n  };\r\n\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#f5f5f5',\r\n  },\r\n  logoContainer: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    flexGrow: 1,\r\n  },\r\n  logo: {\r\n    width: 150,\r\n    height: 150,\r\n  },\r\n  title: {\r\n    marginTop: 10,\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: '#333',\r\n  },\r\n  formContainer: {\r\n    flexGrow: 2,\r\n    paddingHorizontal: 30,\r\n  },\r\n  input: {\r\n    marginBottom: 15,\r\n  },\r\n  button: {\r\n    marginTop: 15,\r\n    paddingVertical: 10,\r\n    backgroundColor: '#d5bf19',\r\n  },\r\n  buttonLabel: {\r\n    fontSize: 18,\r\n  },\r\n  backButton: {\r\n    marginTop: 10,\r\n  },\r\n  backButtonLabel: {\r\n    fontSize: 16,\r\n    color: '#d5bf19',\r\n  },\r\n});\r\n\r\nexport default RegisterScreen;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}