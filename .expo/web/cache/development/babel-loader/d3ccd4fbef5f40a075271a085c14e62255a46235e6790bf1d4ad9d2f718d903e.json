{"ast":null,"code":"import { defineAnimation } from \"./util\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nexport function withDecay(userConfig, callback) {\n  'worklet';\n\n  return defineAnimation(0, function () {\n    'worklet';\n\n    var _a;\n    var config = {\n      deceleration: 0.998,\n      velocityFactor: Platform.OS !== 'web' ? 1 : 1000,\n      velocity: 0\n    };\n    if (userConfig) {\n      Object.keys(userConfig).forEach(function (key) {\n        return config[key] = userConfig[key];\n      });\n    }\n    var VELOCITY_EPS = Platform.OS !== 'web' ? 1 : 1 / 20;\n    var SLOPE_FACTOR = 0.1;\n    function decay(animation, now) {\n      var lastTimestamp = animation.lastTimestamp,\n        startTimestamp = animation.startTimestamp,\n        initialVelocity = animation.initialVelocity,\n        current = animation.current,\n        velocity = animation.velocity;\n      var deltaTime = Math.min(now - lastTimestamp, 64);\n      var v = velocity * Math.exp(-(1 - config.deceleration) * (now - startTimestamp) * SLOPE_FACTOR);\n      animation.current = current + v * config.velocityFactor * deltaTime / 1000;\n      animation.velocity = v;\n      animation.lastTimestamp = now;\n      if (config.clamp) {\n        if (initialVelocity < 0 && animation.current <= config.clamp[0]) {\n          animation.current = config.clamp[0];\n          return true;\n        } else if (initialVelocity > 0 && animation.current >= config.clamp[1]) {\n          animation.current = config.clamp[1];\n          return true;\n        }\n      }\n      return Math.abs(v) < VELOCITY_EPS;\n    }\n    function validateConfig() {\n      if (config.clamp) {\n        if (!Array.isArray(config.clamp)) {\n          throw Error(\"config.clamp must be an array but is \" + typeof config.clamp);\n        }\n        if (config.clamp.length !== 2) {\n          throw Error(\"clamp array must contain 2 items but is given \" + config.clamp.length);\n        }\n      }\n      if (config.velocityFactor <= 0) {\n        throw Error(\"config.velocityFactor must be greather then 0 but is \" + config.velocityFactor);\n      }\n    }\n    function onStart(animation, value, now) {\n      animation.current = value;\n      animation.lastTimestamp = now;\n      animation.startTimestamp = now;\n      animation.initialVelocity = config.velocity;\n      validateConfig();\n    }\n    return {\n      onFrame: decay,\n      onStart: onStart,\n      callback: callback,\n      velocity: (_a = config.velocity) !== null && _a !== void 0 ? _a : 0,\n      initialVelocity: 0,\n      current: 0,\n      lastTimestamp: 0,\n      startTimestamp: 0\n    };\n  });\n}","map":{"version":3,"names":["defineAnimation","Platform","withDecay","userConfig","callback","_a","config","deceleration","velocityFactor","OS","velocity","Object","keys","forEach","key","VELOCITY_EPS","SLOPE_FACTOR","decay","animation","now","lastTimestamp","startTimestamp","initialVelocity","current","deltaTime","Math","min","v","exp","clamp","abs","validateConfig","Array","isArray","Error","length","onStart","value","onFrame"],"sources":["D:/Desktop/Tim/mobile-app-for-human-resources/node_modules/react-native-reanimated/lib/reanimated2/animation/decay.js"],"sourcesContent":["import { defineAnimation } from './util';\r\nimport { Platform } from 'react-native';\r\nexport function withDecay(userConfig, callback) {\r\n    'worklet';\r\n    return defineAnimation(0, () => {\r\n        'worklet';\r\n        var _a;\r\n        const config = {\r\n            deceleration: 0.998,\r\n            velocityFactor: Platform.OS !== 'web' ? 1 : 1000,\r\n            velocity: 0,\r\n        };\r\n        if (userConfig) {\r\n            Object.keys(userConfig).forEach((key) => (config[key] = userConfig[key]));\r\n        }\r\n        const VELOCITY_EPS = Platform.OS !== 'web' ? 1 : 1 / 20;\r\n        const SLOPE_FACTOR = 0.1;\r\n        function decay(animation, now) {\r\n            const { lastTimestamp, startTimestamp, initialVelocity, current, velocity, } = animation;\r\n            const deltaTime = Math.min(now - lastTimestamp, 64);\r\n            const v = velocity *\r\n                Math.exp(-(1 - config.deceleration) * (now - startTimestamp) * SLOPE_FACTOR);\r\n            animation.current =\r\n                current + (v * config.velocityFactor * deltaTime) / 1000; // /1000 because time is in ms not in s\r\n            animation.velocity = v;\r\n            animation.lastTimestamp = now;\r\n            if (config.clamp) {\r\n                if (initialVelocity < 0 && animation.current <= config.clamp[0]) {\r\n                    animation.current = config.clamp[0];\r\n                    return true;\r\n                }\r\n                else if (initialVelocity > 0 &&\r\n                    animation.current >= config.clamp[1]) {\r\n                    animation.current = config.clamp[1];\r\n                    return true;\r\n                }\r\n            }\r\n            return Math.abs(v) < VELOCITY_EPS;\r\n        }\r\n        function validateConfig() {\r\n            if (config.clamp) {\r\n                if (!Array.isArray(config.clamp)) {\r\n                    throw Error(`config.clamp must be an array but is ${typeof config.clamp}`);\r\n                }\r\n                if (config.clamp.length !== 2) {\r\n                    throw Error(`clamp array must contain 2 items but is given ${config.clamp.length}`);\r\n                }\r\n            }\r\n            if (config.velocityFactor <= 0) {\r\n                throw Error(`config.velocityFactor must be greather then 0 but is ${config.velocityFactor}`);\r\n            }\r\n        }\r\n        function onStart(animation, value, now) {\r\n            animation.current = value;\r\n            animation.lastTimestamp = now;\r\n            animation.startTimestamp = now;\r\n            animation.initialVelocity = config.velocity;\r\n            validateConfig();\r\n        }\r\n        return {\r\n            onFrame: decay,\r\n            onStart,\r\n            callback,\r\n            velocity: (_a = config.velocity) !== null && _a !== void 0 ? _a : 0,\r\n            initialVelocity: 0,\r\n            current: 0,\r\n            lastTimestamp: 0,\r\n            startTimestamp: 0,\r\n        };\r\n    });\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}